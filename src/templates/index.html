<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LTL Tutor</title>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="{{ url_for('static', filename='js/common-functionality.js') }}"></script>
</head>

<body>

    {% if misconception_weights %}
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            var ctx = document.getElementById('estimatedMisconceptions').getContext('2d');
            var misconceptionWeightChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: {{ misconception_weights.keys() | list | tojson }},
            datasets: [{
                label: 'Estimated Weight',
                data: {{ misconception_weights.values() | list | tojson }},
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            borderColor: 'rgba(75, 192, 192, 1)',
            borderWidth: 1
                    }]
                },
            options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
            });
        });
    </script>
    {% endif %}

    <style>
        .infograph {
            max-width: 50vw;
            /* 80% of viewport width */
            max-height: 50vh;
            /* 80% of viewport height */
        }
    </style>

    <div class="container mt-4">
        {% include 'navbar.html' %}

        <div class="container d-none" id="knownUserContainer">
           
            <div class="container">

                <h5> </button><a href="/exercise/generate"> <button>Generate a personalized exercise </button></a></h5>
                <p>This exercises will be based on your history of misconceptions and complexity level, paying higher
                    attention to more recent misconceptions you have demonstrated. These exercises can be generated
                    indefinitely,
                    and will continuously adapt to your LTL proficiency.</p>

                <p> If you feel like you are ready to be done with the tutor, test yourself with this exercise: [HERE BE
                    A LINK TO A POST EXERCISE] </p>
            </div>

            <div class="container">
                <h3 class="display-4">Estimated Distribution of Misconceptions</h3>
                <canvas id="estimatedMisconceptions"></canvas>
            </div>
        </div>
    </div>
</body>

</html>